syntax = "proto3";

import "google/protobuf/timestamp.proto";

package zitadel.v1;

message ReadMetaData {
    uint64 sequence = 1;
    google.protobuf.Timestamp creation_date = 2;
    google.protobuf.Timestamp change_date = 3;
    string resource_owner = 4;
}

message CreateMetaData {
    uint64 sequence = 1;
    google.protobuf.Timestamp creation_date = 2;
    string resource_owner = 3;
}

message UpdateMetaData {
    uint64 sequence = 1;
    google.protobuf.Timestamp change_date = 2;
    string resource_owner = 3;
}

message SearchRequest {
    uint64 offset = 1;
    uint32 limit = 2;
    bool asc = 3;
}

message SearchResponse {
    uint64 offset = 1;
    uint32 limit = 2;
    uint64 total_result = 3;
    uint64 processed_sequence = 4;
    google.protobuf.Timestamp view_timestamp = 5;
}

enum TextQueryMethod {//TODO: validate
    TEXTQUERYMETHOD_UNSPECIFIED = 0;
    TEXTQUERYMETHOD_EQUALS = 1;
    TEXTQUERYMETHOD_EQUALS_IGNORE_CASE = ;
    TEXTQUERYMETHOD_STARTS_WITH = 2;
    TEXTQUERYMETHOD_STARTS_WITH_IGNORE_CASE = ;
    TEXTQUERYMETHOD_CONTAINS = 3;
    TEXTQUERYMETHOD_CONTAINS_IGNORE_CASE = ;
    TEXTQUERYMETHOD_ENDS_WITH = 4;
    TEXTQUERYMETHOD_ENDS_WITH_IGNORE_CASE = ;
}

enum ListQueryMethod {
    LISTQUERYMETHOD_UNSPECIFIED = ;
    //TODO: better alternatives?
    // the list must contain at least ONE of the items
    LISTQUERYMETHOD_CONTAINS_ONE = ;
    // the list must contain ALL items
    LISTQUERYMETHOD_CONTAINS_ALL = ;
}