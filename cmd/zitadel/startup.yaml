Log:
  Level: $ZITADEL_LOG_LEVEL
  Formatter:
    Format: text

Tracing:
  Type: $ZITADEL_TRACING_TYPE
  Config:
    ProjectID: $ZITADEL_TRACING_PROJECT_ID
    MetricPrefix: ZITADEL-V1
    Fraction: $ZITADEL_TRACING_FRACTION
    Endpoint: $ZITADEL_TRACING_ENDPOINT

AssetStorage:
  Type: $ZITADEL_ASSET_STORAGE_TYPE
  Config:
    Endpoint: $ZITADEL_ASSET_STORAGE_ENDPOINT
    AccessKeyID: $ZITADEL_ASSET_STORAGE_ACCESS_KEY_ID
    SecretAccessKey: $ZITADEL_ASSET_STORAGE_SECRET_ACCESS_KEY
    SSL: $ZITADEL_ASSET_STORAGE_SSL
    Location: $ZITADEL_ASSET_STORAGE_LOCATION
    BucketPrefix: $ZITADEL_ASSET_STORAGE_BUCKET_PREFIX
    MultiDelete: $ZITADEL_ASSET_STORAGE_MULTI_DELETE

Metrics:
  Type: 'otel'
  Config:
    MeterName: 'github.com/caos/zitadel'

AuthZ:
  Repository:
    Eventstore:
      ServiceName: 'AuthZ'
      Repository:
        SQL:
          Host: $ZITADEL_EVENTSTORE_HOST
          Port: $ZITADEL_EVENTSTORE_PORT
          User: 'authz'
          Database: 'eventstore'
          Password: $CR_AUTHZ_PASSWORD
          MaxOpenConns: 3
          MaxConnLifetime: 30m
          MaxConnIdleTime: 30m
          Options: $CR_OPTIONS
          SSL:
            Mode: $CR_SSL_MODE
            RootCert: $CR_ROOT_CERT
            Cert: $CR_AUTHZ_CERT
            Key: $CR_AUTHZ_KEY
      Cache:
        Type: 'fastcache'
        Config:
          MaxCacheSizeInByte: 10485760 #10mb
    View:
      Host: $ZITADEL_EVENTSTORE_HOST
      Port: $ZITADEL_EVENTSTORE_PORT
      User: 'authz'
      Database: 'authz'
      Password: $CR_AUTHZ_PASSWORD
      MaxOpenConns: 3
      MaxConnLifetime: 30m
      MaxConnIdleTime: 30m
      Options: $CR_OPTIONS
      SSL:
        Mode: $CR_SSL_MODE
        RootCert: $CR_ROOT_CERT
        Cert: $CR_AUTHZ_CERT
        Key: $CR_AUTHZ_KEY
    Spooler:
      ConcurrentWorkers: 1
      BulkLimit: 10000
      FailureCountUntilSkip: 5

Auth:
  SearchLimit: 1000
  Domain: $ZITADEL_DEFAULT_DOMAIN
  APIDomain: $ZITADEL_API_DOMAIN
  Eventstore:
    ServiceName: 'authAPI'
    Repository:
      SQL:
        Host: $ZITADEL_EVENTSTORE_HOST
        Port: $ZITADEL_EVENTSTORE_PORT
        User: 'auth'
        Database: 'eventstore'
        Password: $CR_AUTH_PASSWORD
        MaxOpenConns: 3
        MaxConnLifetime: 30m
        MaxConnIdleTime: 30m
        Options: $CR_OPTIONS
        SSL:
          Mode: $CR_SSL_MODE
          RootCert: $CR_ROOT_CERT
          Cert: $CR_AUTH_CERT
          Key: $CR_AUTH_KEY
    Cache:
      Type: 'fastcache'
      Config:
        MaxCacheSizeInByte: 10485760 #10mb
  AuthRequest:
    Connection:
      Host: $ZITADEL_EVENTSTORE_HOST
      Port: $ZITADEL_EVENTSTORE_PORT
      User: 'auth'
      Database: 'auth'
      Password: $CR_AUTH_PASSWORD
      MaxOpenConns: 3
      MaxConnLifetime: 30m
      MaxConnIdleTime: 30m
      Options: $CR_OPTIONS
      SSL:
        Mode: $CR_SSL_MODE
        RootCert: $CR_ROOT_CERT
        Cert: $CR_AUTH_CERT
        Key: $CR_AUTH_KEY
  View:
    Host: $ZITADEL_EVENTSTORE_HOST
    Port: $ZITADEL_EVENTSTORE_PORT
    User: 'auth'
    Database: 'auth'
    Password: $CR_AUTH_PASSWORD
    MaxOpenConns: 3
    MaxConnLifetime: 30m
    MaxConnIdleTime: 30m
    Options: $CR_OPTIONS
    SSL:
      Mode: $CR_SSL_MODE
      RootCert: $CR_ROOT_CERT
      Cert: $CR_AUTH_CERT
      Key: $CR_AUTH_KEY
  Spooler:
    ConcurrentWorkers: 1
    BulkLimit: 10000
    FailureCountUntilSkip: 5

Admin:
  SearchLimit: 1000
  Domain: $ZITADEL_DEFAULT_DOMAIN
  APIDomain: $ZITADEL_API_DOMAIN
  Eventstore:
    ServiceName: 'Admin'
    Repository:
      SQL:
        Host: $ZITADEL_EVENTSTORE_HOST
        Port: $ZITADEL_EVENTSTORE_PORT
        User: 'adminapi'
        Database: 'eventstore'
        Password: $CR_ADMINAPI_PASSWORD
        MaxOpenConns: 3
        MaxConnLifetime: 30m
        MaxConnIdleTime: 30m
        Options: $CR_OPTIONS
        SSL:
          Mode: $CR_SSL_MODE
          RootCert: $CR_ROOT_CERT
          Cert: $CR_ADMINAPI_CERT
          Key: $CR_ADMINAPI_KEY
    Cache:
      Type: 'fastcache'
      Config:
        MaxCacheSizeInByte: 10485760 #10mb
  View:
    Host: $ZITADEL_EVENTSTORE_HOST
    Port: $ZITADEL_EVENTSTORE_PORT
    User: 'adminapi'
    Database: 'adminapi'
    Password: $CR_ADMINAPI_PASSWORD
    MaxOpenConns: 3
    MaxConnLifetime: 30m
    MaxConnIdleTime: 30m
    Options: $CR_OPTIONS
    SSL:
      Mode: $CR_SSL_MODE
      RootCert: $CR_ROOT_CERT
      Cert: $CR_ADMINAPI_CERT
      Key: $CR_ADMINAPI_KEY
  Spooler:
    ConcurrentWorkers: 1
    BulkLimit: 10000
    FailureCountUntilSkip: 5

Notification:
  APIDomain: $ZITADEL_API_DOMAIN
  Repository:
    DefaultLanguage: 'de'
    Domain: $ZITADEL_DEFAULT_DOMAIN
    Eventstore:
      ServiceName: 'Notification'
      Repository:
        SQL:
          Host: $ZITADEL_EVENTSTORE_HOST
          Port: $ZITADEL_EVENTSTORE_PORT
          User: 'notification'
          Database: 'eventstore'
          Password: $CR_NOTIFICATION_PASSWORD
          MaxOpenConns: 2
          MaxConnLifetime: 30m
          MaxConnIdleTime: 30m
          Options: $CR_OPTIONS
          SSL:
            Mode: $CR_SSL_MODE
            RootCert: $CR_ROOT_CERT
            Cert: $CR_NOTIFICATION_CERT
            Key: $CR_NOTIFICATION_KEY
      Cache:
        Type: 'fastcache'
        Config:
          MaxCacheSizeInByte: 10485760 #10mb
    View:
      Host: $ZITADEL_EVENTSTORE_HOST
      Port: $ZITADEL_EVENTSTORE_PORT
      User: 'notification'
      Database: 'notification'
      Password: $CR_NOTIFICATION_PASSWORD
      MaxOpenConns: 2
      MaxConnLifetime: 30m
      MaxConnIdleTime: 30m
      Options: $CR_OPTIONS
      SSL:
        Mode: $CR_SSL_MODE
        RootCert: $CR_ROOT_CERT
        Cert: $CR_NOTIFICATION_CERT
        Key: $CR_NOTIFICATION_KEY
    Spooler:
      ConcurrentWorkers: 1
      BulkLimit: 10000
      FailureCountUntilSkip: 5
      Handlers:
