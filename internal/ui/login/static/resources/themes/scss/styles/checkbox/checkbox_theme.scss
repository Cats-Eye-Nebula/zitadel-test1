@import '../theming/theming.scss';
@import './checkbox.scss';

@mixin lgn-checkbox-theme($theme-or-color-config) {
    $theme: lgn-private-legacy-get-theme($theme-or-color-config);
    $color: lgn-get-color-config($theme);

    @if $color != null {
        @include lgn-checkbox-color($color);
    }
}

@mixin lgn-checkbox-color($config-or-theme) {
    $config: lgn-get-color-config($config-or-theme);
    $primary: map-get($config, primary);
    $warn: map-get($config, warn);
    $background: map-get($config, background);
    $foreground: map-get($config, foreground);

    .lgn-checkbox {
        color: lgn-color($primary, default);
        line-height: 28px;
        >input {
            background-color: lgn-color($primary, default);
            box-shadow: none;
            outline: none;
            opacity: 0;
            &:checked {
                background-color: lgn-color($primary, default);
                + {
                    span {
                        &::before {
                            border-color: lgn-color($primary, default);
                            background-color: lgn-color($primary, default);
                        }
                        &::after {
                            border-color: black;
                        }
                    }
                }
                &:active {
                    + {
                        span {
                            &::before {
                                border-color: transparent;
                                background-color: lgn-color($primary, default);
                            }
                        }
                    }
                }
                &:disabled {
                    + {
                        span {
                            &::before {
                                border-color: transparent;
                                background-color: currentColor;
                            }
                        }
                    }
                }
            }
            &:indeterminate {
                background-color: lgn-color($primary, default);
                + {
                    span {
                        &::before {
                            border-color: lgn-color($primary, default);
                            background-color: lgn-color($primary, default);
                        }
                        &::after {
                            border-color: black;
                        }
                    }
                }
                &:disabled {
                    + {
                        span {
                            &::before {
                                border-color: transparent;
                                background-color: currentColor;
                            }
                        }
                    }
                }
            }
            &:focus {
                opacity: 0.12;
            }
            &:active {
                opacity: 1;
                transform: scale(0);
                + {
                    span {
                        &::before {
                            border-color: lgn-color($primary, default);
                        }
                    }
                }
            }
            &:disabled {
                opacity: 0;
                + {
                    span {
                        color: lgn-color($primary, default);
                        &::before {
                            border-color: currentColor;
                        }
                    }
                }
            }
        }
        >span {
            display: inline-block;
            width: 100%;
            cursor: pointer;
            color: white;
            &::before {
                border-color: yellow;
            }
        }
        &:hover {
            >input {
                opacity: 0.04;
                &:focus {
                    opacity: 0.16;
                }
            }
        }
    }
}