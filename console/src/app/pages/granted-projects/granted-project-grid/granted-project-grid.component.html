<div class="view-toggle">
    <button (click)="changedView.emit(true)" mat-icon-button>
        <i class="show list view las la-th-list"></i>
    </button>
</div>
<div class="container">
    <mat-progress-bar *ngIf="loading" class="spinner" color="accent" mode="indeterminate"></mat-progress-bar>
    <div class="item card" *ngFor="let item of items; index as i" (click)="selectItem(item, $event)"
        [ngClass]="{ inactive: item.state !== ProjectState.PROJECTSTATE_ACTIVE}">
        <div class="text-part">
            <span *ngIf="item.changeDate" class="top">last modified on
                {{
                        item.changeDate | timestampToDate | date: 'EEE dd. MMM, HH:mm'
            }}</span>
            <span class="name" *ngIf="item.projectName">{{ item.projectName }}</span>
            <span class="description" *ngIf="item.resourceOwnerName">{{item.resourceOwnerName}}</span>
            <span *ngIf="item.changeDate" class="created">created on
                {{ item.creationDate | timestampToDate | date: 'EEE dd. MMM, HH:mm' }}</span>
            <span class="fill-space"></span>
            <div class="icons">
            </div>
        </div>
        <button [ngClass]="{ selected: selection.isSelected(item.projectId)}" (click)="selection.toggle(item.projectId)"
            class="edit-button" mat-icon-button>
            <mat-icon>push_pin_outline</mat-icon>
        </button>

        <mat-menu #editMenu="matMenu">
            <ng-template matMenuContent>
                <button (click)="selectItem(item)" mat-menu-item>
                    {{'ACTIONS.VIEW' | translate}}
                </button>
            </ng-template>
        </mat-menu>
    </div>
    <p class="n-items" *ngIf="!loading && items.length === 0">{{'PROJECT.PAGES.NOITEMS' | translate}}</p>
</div>