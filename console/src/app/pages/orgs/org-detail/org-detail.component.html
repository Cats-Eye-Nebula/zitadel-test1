<app-meta-layout>
    <div class="enlarged-container">
        <h1>{{org?.name}}</h1>
        <p class="sub">{{'ORG_DETAIL.DESCRIPTION' | translate}}
        </p>
        <app-card title="{{ 'ORG.DOMAINS.TITLE' | translate }}"
            description="{{ 'ORG.DOMAINS.DESCRIPTION' | translate }}">
            <div *ngFor="let domain of domains" class="domain">
                <span class="title">{{domain.domain}}</span>
                <i matTooltip="verified" *ngIf="domain.verified" class="verified las la-check-circle"></i>
                <i matTooltip="primary" *ngIf="domain.primary" class="primary las la-star"></i>
                <span class="fill-space"></span>
                <button matTooltip="Remove domain" color="warn" mat-icon-button (click)="removeDomain(domain.domain)"><i
                        class="las la-trash"></i></button>
            </div>

            <p class="new-desc">{{'ORG.PAGES.ORGDOMAIN_VERIFICATION' | translate}}</p>
            <div class="new-row">
                <mat-form-field appearance="outline">
                    <mat-label>new domain</mat-label>
                    <input matInput [(ngModel)]="newDomain" />
                </mat-form-field>

                <button matTooltip="Add domain" mat-icon-button color="primary" (click)="saveNewOrgDomain()">
                    <mat-icon>check</mat-icon>
                </button>
            </div>
        </app-card>

        <ng-template appHasRole [appHasRole]="['policy.read']">
            <app-policy-grid></app-policy-grid>
        </ng-template>
    </div>

    <metainfo class="side">
        <div class="details">
            <div class="row">
                <span class="first">{{'ORG.PAGES.PRIMARYDOMAIN'  | translate}}</span>
                <span class="second"><span style="display: block;">{{primaryDomain}}</span></span>
            </div>
            <div class="row">
                <span class="first">{{'ORG.PAGES.STATE'  | translate}}</span>
                <span *ngIf="org && org.state !== undefined"
                    class="second">{{'ORG.STATE.'+org.state | translate}}</span>
            </div>
        </div>

        <mat-tab-group mat-stretch-tabs class="tab-group" disablePagination="true">
            <mat-tab label="Details">
                <app-org-contributors *ngIf="org" [org]="org">
                </app-org-contributors>
            </mat-tab>
            <mat-tab label="{{ 'CHANGES.ORG.TITLE' | translate }}" class="flex-col">
                <app-changes *ngIf="org" [changeType]="ChangeType.ORG" [id]="org.id"></app-changes>
            </mat-tab>
        </mat-tab-group>
    </metainfo>
</app-meta-layout>