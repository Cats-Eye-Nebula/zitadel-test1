<div class="form-row">
  <cnsl-form-field class="formfield">
    <cnsl-label>{{name}} (current {{color}})</cnsl-label>
    <input cnslInput [(ngModel)]="previewColor" (keydown.enter)="name ? emitPreview(previewColor) : null" />
  </cnsl-form-field>
  <button matTooltip="{{'ACTIONS.SET' | translate}}" (click)="emitPreview(previewColor)" mat-icon-button><mat-icon>check</mat-icon></button>
</div>
<div class="color-selector">
  <div *ngFor="let c of (warn ? warncolors : colors)" class="circle mat-elevation-z3"
    [ngClass]="{'active': color == c.color || previewColor == c.color}"
    (click)="emitPreview(c.color)" [ngStyle]="{'background-color': c.color}">
    <span *ngIf="previewColor == c.color">P</span>
    <span *ngIf="color == c.color">C</span>
  </div>
</div>